<!DOCTYPE html>	
 <html lang="pt">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Advocacy - Escritório</title>
		<link href="/library/css/bootstrap.min.css" rel="stylesheet" media="screen">
		<link href="/library/css/bootstrap-responsive.min.css" rel="stylesheet">
		<link href="/library/css/admin.css" rel="stylesheet">
 	</head>
 	<body>
 	
		<div id="menu"></div>
 		
		<div class="container">
			<ul class="breadcrumb">
			    <li><a href="#">Escritórios</a> <span class="divider">/</span></li>
			    <li><a href="#">Advogados</a> <span class="divider">/</span></li>
			    <li class="active">Alterar</li>
		    </ul>
		    
		    <form class="form-horizontal" style="display: block">
		    	<fieldset>
					<legend>Dados de cadastrais</legend>
				</fieldset>
				<div class="control-group">
					<label class="control-label">Nome: *</label>
					<div class="controls">
						<input name="name" type="text" class="span5" maxlength="255">
						<span id="spanError-name" class="help-inline"></span>
					</div>
				</div>
				<div class="control-group">
					<label class="control-label">E-mail: *</label>
					<div class="controls">
						<input name="email" type="text" class="span5" maxlength="255">
						<span id="spanError-email" class="help-inline"></span>
					</div>
				</div>
				<div class="control-group">
					<label class="control-label">Nacionalidade: *</label>
					<div class="controls">
						<input name="naturalidade" type="text" class="span2" maxlength="100">
						<span id="spanError-naturalidade" class="help-inline"></span>
					</div>
				</div>
				<div class="control-group">
					<label class="control-label">Estado Civil: *</label>
					<div class="controls">
						<input name="estadocivil" type="text" class="span2" maxlength="20">
						<span id="spanError-estadocivil" class="help-inline"></span>
					</div>
				</div>
				<div class="control-group">
					<label class="control-label">Profissão: *</label>
					<div class="controls">
						<input name="profissao" type="text" class="span2" maxlength="100">
						<span id="spanError-profissao" class="help-inline"></span>
					</div>
				</div>
				<div class="control-group">
					<label class="control-label">CPF: *</label>
					<div class="controls">
						<input name="cpf" type="text" class="span2" maxlength="20">
						<span id="spanError-cpf" class="help-inline"></span>
					</div>
				</div>
				<div class="control-group">
					<label class="control-label">Telefone Celular: *</label>
					<div class="controls">
						<input name="cellphone" type="text" class="span2" maxlength="20">
						<span id="spanError-cellphone" class="help-inline"></span>
					</div>
				</div>
				<div class="control-group">
					<div class="controls">
						<input type="hidden" name="id">
						<button type="button" class="btn btn-primary" onclick="postJson('', '/advocacy-web/admin/lawyer/save', $('form').serialize());">Salvar</button>
					</div>
				</div>
				
			</form>
		    
		</div>
 		
 		<div id="footer"></div>
 		
 	 	<script src="/library/js/jquery-1.8.3.min.js"></script>
		<script src="/library/js/bootstrap.min.js"></script>
		<script src="/library/js/jquery.maskedinput-1.3.min.js"></script>

		<script src="/library/js/functions.js" charset="utf-8"></script>
		<script src="/library/js/admin.js" charset="utf-8"></script>

		<script>
			loadMenuAdvocacy();
			loadFooter();
			
			function callback(id, data) {
				if (data.status) {
					if (id=='load') {
						$('input[name=id]').val(data.generic.id);
						$('input[name=name]').val(data.generic.name);
						$('input[name=email]').val(data.generic.email);
						$('input[name=cpf]').val(data.generic.cpf);
						$('input[name=cellphone]').val(data.generic.cellphone);
						$('input[name=naturalidade]').val(data.generic.naturalidade);
						$('input[name=estadocivil]').val(data.generic.estadocivil);
						$('input[name=profissao]').val(data.generic.profissao);
					} else {
						alert("Advogado atualizado com sucesso.", true);
						location.href='/advocacy/admin/lawyer/consult';
					}
				} else {
					errorForm(data, '/advocacy');
				}
			}
			
			getJson('load', '/advocacy-web/admin/lawyer/load?id='+getURLParameter('pid'));
			
			$("input[name='cpf']").mask("999.999.999-99");
			$("input[name='cellphone']").mask("(99) 9999-9999?9");
		</script>
 	</body>
 </html>